

========== PasteBin ==========

16 Keys LOTAD: https://youtu.be/D585ORqqjxU
Showcase with commentary: https://youtu.be/qDt9a9tCMT4

In The Wind Waker there are a total of 12 small keys: 4 in Dragon Roost Cavern (DRC), 1 in Forbidden Woods (FW), 2 in Tower of the Gods (TotG), 3 in Earth Temple (ET) and 2 in Wind Temple (WT). In a casual playthrough you would never have more than 1 key in your inventory at a time, yet for some reason the game still has a double digit key counter. In this LOTAD, we will make the key counter show 16, specifically in Dragon Roost Cavern.

We use two main techniques to achieve this high key count. The first of which is the Back in Time glitch, or BiT for short. BiT is a glitch which allows for Link to be controlled on the title screen of the game. There are 2 ways to activate BiT, and the one useful to us is death BiT which is achieved by dying, selecting continue on the game over screen, and then resetting the console shortly after. This results in being able to control Link on the title screen on whichever map you would have respawned at from the game over. For BiT to be useful for 16 Keys, we need to use it in conjunction with another glitch - storage. Storage is one of the most useful glitches in the game and it used for a number of different applications throughout the LOTAD, but the application we need here is storing small keys. When an item is stored, either by attempting to open a chest with storage or by simply walking into a freestanding item with storage, that item is "stored" and does not get added into our inventory until the next time we load a new area. But, the next area you load could be, say, the title screen. So what we do is store the 4 small keys in DRC, and then activate BiT via death. Since we used death BiT, we spawn on the title screen at our respawn location, which is at the beginning of DRC. The 4 stored keys are then received on the title screen, and we are now playing on the title screen with 4 small keys in DRC. The title screen file is a file with no progress or items, as if it has just finished watching the intro cutscenes, so this means we now have essentially a brand new file with no progress, except it starts with 4 small keys in DRC. Actually, in order to access all 4 keys in DRC, we need to spend 2 keys. So we do this whole process with BiT twice - the first time we collect the first 2 keys normally, use them to access and store the other 2 keys, and do BiT to have a new file that starts with 2 keys in DRC. Then, now that we already have 2 keys, we can use those keys to access and store all 4 keys, perform BiT again and have a new file that starts with 4 keys in DRC. We cannot continue to repeat this process of BiT to start a file with even more keys, as we can only start a file with as many keys as we can store, and we can only store as many keys as a dungeon naturally has. DRC is the dungeon with the most keys, and so this is why we collect our keys for that dungeon.

So we now have a new file that starts with 4 small keys in DRC. This explains how we can reach 16 keys when there are only 12 in the game, but we still need to get the rest of the keys into DRC. This is done using the second main technique, transferring keys between dungeons. Recall that when an item is stored, it is received upon loading a new area. However, this is actually not completely true when it comes to small keys. If the next area loaded is not in a dungeon, the keys remain stored until the next time you load an area in a dungeon. This allows for keys to be transferred between dungeons, even though dungeons are more than a single load from each other. It's also worth noting that loading the title screen will cause any stored small keys to disappear, so keys cannot be transferred between files, with the exception of using BiT. So, now that we can easily transfer keys between dungeons, getting 16 keys seems simple - use BiT to have a new file that starts with 4 keys, collect the 4 keys in DRC normally, and transfer the 8 keys from other dungeons to DRC for a total of 16 keys. But, it's not quite that easy.

There are 2 main problems which need to be overcome. Firstly, if there are any locked doors that we need to bypass, that would require spending a key. Most of the locked doors are very simple to bypass, either by using standard glitches, or we simply don't need what's on the other side of them. But there is one locked door that we absolutely must get past in order to continue - the first room of DRC has a locked door which blocks off the rest of the dungeon. Not only are there keys throughout DRC that we want, but we need to beat DRC in order to access TotG and, by extension, WT. Luckily, a way around this problem was discovered using a glitch known as Actor Unloading, or AU for short. Put very simply (both for the sake of the explanation and also because I am definitely not the most knowledgeable about the glitch), AU consists of filling up memory along with some sort of memory fragmentation with the goal of unloading something. In this case, we actually want to do so much actor unloading that the game's HUD fails to load. One of the things that appears on the HUD is the key count, and it turns out that if you unlock a door while the HUD is unloaded, the key count never gets updated and we can keep our small key. This is thankfully only required once in the run, as the setup is around 15 minutes long in the LOTAD.

The other problem comes from one of the dungeon keys we want to transfer, specifically the small key inside a coffin in ET. Recall again that stored items are received upon loading a new area. This of course applies to small keys, but there is actually a type of small key that works a bit differently - freestanding small keys, that is, small keys that are out in the open rather than in a chest. When a freestanding small key is stored, they are actually received from just loading a new room in the dungeon. This makes it a lot harder to leave a dungeon with a stored freestanding key. Now, there are actually only 2 freestanding keys in the whole game. The first one is the bird's nest key in DRC, but this is not an issue as we are collecting all of the DRC keys normally anyway. This does mean we need to be a bit careful during the BiT process at the beginning of the run, but it's not much of a problem. The other freestanding key is the ET coffin key, and this poses much more of a problem. If we want to transfer this key to DRC, we need to go from the coffin room in ET to outside of the dungeon without loading another room. The way we do this is via a deathwarp, but it quickly becomes a puzzle as to how we make it work.

Usually, when you savewarp or deathwarp, you respawn in the same place you already are, i.e. if you deathwarp in a dungeon you respawn at the beginning of that dungeon. However, this is not true at the very beginning of the game. During early game, the game uses specific events to decide where your respawn location will be. At the start you respawn at Outset, then later it becomes the daytime pirate ship, etc. until eventually you reach Windfall and enter King of Red Lions (KoRL) for the first time. Entering KoRL is what "fixes" your savewarp flags, and makes it so that you will respawn at the same place you started. So, if we can avoid entering KoRL, we can deathwarp from the ET coffin room and end up somewhere outside of a dungeon. With superswims available, avoiding KoRL turns out to be relatively easy. However, there is actually one other event that fixes savewarp flags - the cutscene in the courtyard of Hyrule Castle when entering Hyrule 2. So, we need to get to the coffin key in ET without going to Hyrule 2. Now, we have a clip to enter ET early, and we can almost make it all the way to the coffin key with just a few items that we get early on, however there is one room that is a pain to get past - the second room in ET has two switches that need to be pressed together in order to open a door. There are 2 ways that we know to do this. Firstly, you can use Medli to press down one of the switches as intended. The other method is to use a frozen Moblin to press down one of the switches. So to bypass this room we either need Medli or Ice Arrows. To get Medli, we need to go through Hyrule 2 for her to spawn at Dragon Roost. To get Ice Arrows, there are a few different ways. Firstly we can get them from Mother and Child as intended, which also requires going through Hyrule 2 for that cutscene to activate. The other option is to get Light Arrows from Ganon's Castle, which also gives Ice Arrows. Going through Hyrule 1 isn't an option as it would require either spending a small key in TotG, or it would require fixing savewarp flags to do TotG skip. Going through Hyrule 3 also isn't an option as it requires salvaging the Triforce, which would mean entering KoRL and would also fix savewarp flags. So the only option is to use Hyrule 2.

In every case, going to Hyrule 2 is required to reach the coffin room in ET and it seems like we're stuck. But, there is a solution to this, and again our problems are solved by the use of Actor Unloading. Another thing that AU has the capability of unloading is cutscenes, and if we unload the courtyard cutscene, the game doesn't fix savewarp flags. The only issue is that the courtyard cutscene comes third in a chain of cutscenes, and so it becomes extremely difficult and precise to unload it without also unloading one of the two cutscenes before it, but it is indeed possible. And with that, there are no more issues and we are free to obtain 16 keys.
